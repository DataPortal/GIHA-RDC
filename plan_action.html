<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Plan d’action GiHA 2025–2026</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Police moderne OCHA/ONU Femmes -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --ocha-blue: #1F4E79;
      --unw-blue: #448BCA;
      --unw-orange: #F58220;
      --bg-soft: #f5f7fb;
      --text-dark: #222222;
      --text-muted: #666666;
      --border-soft: #dde3f0;
      --radius-lg: 16px;
      --radius-md: 10px;
      --shadow-soft: 0 14px 40px rgba(15, 35, 52, 0.12);
    }

    /* Menu navigation */
    .top-nav {
      background: linear-gradient(90deg, var(--unw-blue), var(--ocha-blue));
      color: #fff;
      padding: 6px 26px;
      display: flex;
      justify-content: flex-end;
      gap: 18px;
      font-size: 0.9rem;
    }

    .top-nav a {
      color: #fff;
      text-decoration: none;
      padding-bottom: 2px;
      border-bottom: 2px solid transparent;
    }

    .top-nav a.active {
      border-bottom-color: var(--unw-orange);
      font-weight: 600;
    }

    .top-nav a:hover {
      border-bottom-color: rgba(255, 255, 255, 0.9);
    }

    /* Base */
    * { box-sizing: border-box; }

    body {
      margin: 0;
      padding: 0;
      font-family: "Source Sans 3", system-ui, -apple-system, BlinkMacSystemFont,
        "Segoe UI", Roboto, Arial, sans-serif;
      font-size: 14px;
      color: var(--text-dark);
      background: radial-gradient(circle at top left, #e9f1ff 0, #f5f7fb 45%, #ffffff 100%);
    }

    /* Page */
    .page {
      max-width: 1200px;
      margin: 20px auto;
      padding: 18px 20px 24px;
      background: #ffffff;
      border-radius: 20px;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(255, 255, 255, 0.9);
    }

    /* HEADER */
    .header {
      border-radius: 16px;
      padding: 14px 18px;
      background: linear-gradient(135deg, var(--unw-blue), var(--ocha-blue));
      color: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 16px;
      margin-bottom: 22px;
    }

    .header-left h1 {
      margin: 0;
      font-size: 1.4rem;
      font-weight: 700;
    }

    .header-left p {
      margin: 4px 0 0;
      font-size: 0.9rem;
      opacity: 0.95;
    }

    .header-right {
      text-align: right;
      font-size: 0.85rem;
    }

    .header-chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 3px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.6);
      font-size: 0.8rem;
      margin-bottom: 4px;
    }

    .header-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--unw-orange);
    }

    /* FILTERS */
    .filters {
      margin-bottom: 18px;
      padding: 10px 12px;
      border-radius: 14px;
      background: #f6f8ff;
      border: 1px solid var(--border-soft);
      display: grid;
      grid-template-columns: 2fr 1.3fr 1.3fr 1fr;
      gap: 10px;
      align-items: center;
    }

    .filter-group { display: flex; flex-direction: column; gap: 3px; }

    .filter-label {
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.11em;
      color: var(--text-muted);
    }

    .filter-input,
    .filter-select {
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      padding: 6px 10px;
      font-size: 0.9rem;
      background: #ffffff;
      outline: none;
      transition: border-color 0.15s ease, box-shadow 0.15s ease;
    }

    .filter-input:focus,
    .filter-select:focus {
      border-color: var(--unw-blue);
      box-shadow: 0 0 0 2px rgba(68, 139, 202, 0.18);
    }

    /* SUMMARY BAR */
    .summary-bar {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 18px;
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    .summary-chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      border-radius: 999px;
      padding: 3px 9px;
      border: 1px solid var(--border-soft);
      background: #ffffff;
    }

    .summary-chip strong { color: var(--ocha-blue); }

    /* TABLE */
    .table-wrapper {
      border-radius: 16px;
      overflow: hidden;
      border: 1px solid var(--border-soft);
      background: #ffffff;
      margin-bottom: 20px;
    }

    table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }

    thead { background: linear-gradient(90deg, #f4f7ff, #fdf8f3); }

    th, td {
      padding: 8px 10px;
      text-align: left;
      vertical-align: top;
    }

    th {
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--text-muted);
      border-bottom: 1px solid var(--border-soft);
      position: sticky;
      top: 0;
      background: linear-gradient(90deg, #f4f7ff, #fdf8f3);
      z-index: 2;
    }

    tbody tr:nth-child(even) { background: #fafbff; }
    tbody tr:nth-child(odd) { background: #ffffff; }
    tbody tr:hover { background: #eef3ff; }

    .axe-pill {
      padding: 2px 7px;
      border-radius: 999px;
      background: #f3f7ff;
      border: 1px solid rgba(68, 139, 202, 0.3);
      font-size: 0.78rem;
      color: var(--ocha-blue);
    }

    .progress-bar {
      width: 100%;
      max-width: 140px;
      height: 6px;
      border-radius: 999px;
      background: #f0f2f5;
      overflow: hidden;
      margin-top: 4px;
    }

    .progress-inner {
      height: 100%;
      border-radius: 999px;
      background: linear-gradient(90deg, var(--unw-blue), var(--unw-orange));
      transition: width 0.25s ease;
    }

    .status-badge,
    .priority-badge {
      display: inline-flex;
      padding: 2px 7px;
      border-radius: 999px;
      font-size: 0.78rem;
      font-weight: 600;
      border: 1px solid transparent;
    }

    /* Statut couleurs */
    .status-not-started { background: #fff7e6; color: #b36b00; border-color: #ffd591; }
    .status-in-progress { background: #e6f4ff; color: #0050b3; border-color: #91caff; }
    .status-completed   { background: #f6ffed; color: #237804; border-color: #b7eb8f; }
    .status-risk        { background: #fff1f0; color: #a8071a; border-color: #ffa39e; }

    /* Priorité */
    .priority-high   { background: #fff1f0; color: #a8071a; border-color: #ffa39e; }
    .priority-medium { background: #fff7e6; color: #b36b00; border-color: #ffd591; }
    .priority-low    { background: #f6ffed; color: #237804; border-color: #b7eb8f; }

    .no-results {
      padding: 16px;
      text-align: center;
      font-size: 0.9rem;
      color: var(--text-muted);
    }

    /* Footer */
    .footer-note {
      margin-top: 16px;
      font-size: 0.78rem;
      color: var(--text-muted);
      display: flex;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
    }

    /* Impression */
    @media print {
      body { background: #ffffff !important; }
      .top-nav { display: none !important; }
      .page { box-shadow: none; border-radius: 0; margin: 0; border: none; }
    }

    /* Responsive */
    @media (max-width: 900px) {
      .page { margin: 0; border-radius: 0; box-shadow: none; }
      .filters { grid-template-columns: 1fr 1fr; }
      .table-wrapper { overflow-x: auto; }
      .header { flex-direction: column; align-items: flex-start; }
      .header-right { text-align: left; }
    }

    @media (max-width: 600px) {
      .filters { grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>

<!-- MENU NAVIGATION -->
<nav class="top-nav">
  <a href="index.html">Accueil</a>
  <a href="snapshot.html">Snapshot</a>
  <a href="plan_action.html" class="active">Plan d’action</a>
</nav>

<div class="page">

  <!-- HEADER -->
  <header class="header">
    <div class="header-left">
      <h1>Plan d’action GiHA 2025–2026</h1>
      <p>Suivi dynamique des engagements du Comité Genre dans l’Action Humanitaire (GiHA) – RDC.</p>
    </div>

    <div class="header-right">
      <div class="header-chip">
        <span class="header-dot"></span>
        <span><strong>ONU Femmes</strong> &amp; partenaires (OCHA, PAM, CARE, SOFEPADI, UNICEF…)</span>
      </div>
      <div><strong>Période :</strong> 2025–2026</div>
      <div><strong>Mise à jour :</strong> <span id="lastUpdate"></span></div>
    </div>
  </header>

  <!-- FILTRES -->
  <section class="filters">
    <div class="filter-group">
      <span class="filter-label">Recherche</span>
      <input id="searchInput" class="filter-input" type="search"
             placeholder="Rechercher (activité, résultat, responsable...)">
    </div>

    <div class="filter-group">
      <span class="filter-label">Axe / Résultat</span>
      <select id="axisFilter" class="filter-select">
        <option value="">Tous les axes</option>
      </select>
    </div>

    <div class="filter-group">
      <span class="filter-label">Statut</span>
      <select id="statusFilter" class="filter-select">
        <option value="">Tous les statuts</option>
        <option value="Non démarré">Non démarré</option>
        <option value="En cours">En cours</option>
        <option value="Achevé">Achevé</option>
        <option value="À risque">À risque</option>
      </select>
    </div>

    <div class="filter-group">
      <span class="filter-label">Année</span>
      <select id="yearFilter" class="filter-select">
        <option value="">2025–2026</option>
        <option value="2025">2025</option>
        <option value="2026">2026</option>
      </select>
    </div>
  </section>

  <!-- SUMMARY -->
  <section class="summary-bar">
    <div class="summary-chip">Actions totales : <strong id="totalActions">0</strong></div>
    <div class="summary-chip">En cours : <strong id="inProgressCount">0</strong></div>
    <div class="summary-chip">Achevées : <strong id="completedCount">0</strong></div>
    <div class="summary-chip">À risque : <strong id="riskCount">0</strong></div>
  </section>

  <!-- TABLEAU -->
  <section class="table-wrapper">
    <table>
      <thead>
        <tr>
          <th class="col-axe">Axe / Résultat</th>
          <th class="col-resultat">Résultat / Effet</th>
          <th class="col-activite">Activité / Tâche clé</th>
          <th class="col-echeance">Échéance</th>
          <th class="col-responsable">Responsable &amp; partenaires</th>
          <th class="col-statut">Statut</th>
          <th class="col-priorite">Priorité</th>
        </tr>
      </thead>
      <tbody id="actionTableBody"></tbody>
    </table>

    <div id="noResults" class="no-results" style="display:none;">
      Aucun résultat ne correspond à vos filtres. Essayez d’élargir la recherche.
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer-note">
    <span>Ce plan d’action est basé sur le tableau Excel du Comité GiHA (2025–2026).</span>
    <span>Déployé par le support IM – ONU Femmes.</span>
  </footer>
</div>

<!-- JAVASCRIPT -->
<script>
  /* ============================
     1. Données du Plan d’action
  ============================ */
  const actionsData = [
    {
      id: 1,
      axe: "Axe 1 – Leadership & localisation",
      resultat: "Renforcer la participation des organisations féminines dans la gouvernance humanitaire nationale.",
      activite: "Mettre en place un mécanisme formel de consultation des WLOs avant chaque révision du HRP.",
      echeance: "T3 2025",
      annee: 2025,
      responsable: "ONU Femmes",
      partenaires: "OCHA, SOFEPADI, AVSD",
      statut: "En cours",
      priorite: "Haute",
      progression: 45
    },
    {
      id: 2,
      axe: "Axe 1 – Leadership & localisation",
      resultat: "Accroître l’accès direct des WLOs aux financements humanitaires.",
      activite: "Étude de capacité et plan d’accompagnement pour l’éligibilité aux fonds humanitaires.",
      echeance: "T1 2026",
      annee: 2026,
      responsable: "OCHA",
      partenaires: "ONU Femmes, WFP",
      statut: "Non démarré",
      priorite: "Haute",
      progression: 5
    },
    {
      id: 3,
      axe: "Axe 2 – Qualité de la réponse",
      resultat: "Intégrer systématiquement le genre dans les réponses multisectorielles.",
      activite: "Modules de formation GiHA pour les clusters WASH, Santé, Nutrition, Abris.",
      echeance: "T4 2025",
      annee: 2025,
      responsable: "ONU Femmes",
      partenaires: "Clusters sectoriels",
      statut: "En cours",
      priorite: "Moyenne",
      progression: 60
    },
    {
      id: 4,
      axe: "Axe 2 – Qualité de la réponse",
      resultat: "Renforcer l’utilisation de données sexo-spécifiques.",
      activite: "Mise à jour du tableau de bord GiHA + brief analytique semestriel.",
      echeance: "T2 2025",
      annee: 2025,
      responsable: "ONU Femmes – IM",
      partenaires: "OCHA IMWG",
      statut: "Achevé",
      priorite: "Moyenne",
      progression: 100
    },
    {
      id: 5,
      axe: "Axe 3 – Redevabilité & risques",
      resultat: "Réduire les risques de VBG liés à la réponse humanitaire.",
      activite: "Documenter les risques liés aux distributions en espèces et proposer des mesures.",
      echeance: "T3 2026",
      annee: 2026,
      responsable: "UNFPA / VBG",
      partenaires: "ONU Femmes, WFP",
      statut: "À risque",
      priorite: "Haute",
      progression: 20
    }
  ];

  /* ============================
     2. Fonctions Utilitaires
  ============================ */

  const tbody = document.getElementById("actionTableBody");
  const noResultsDiv = document.getElementById("noResults");

  const totalActionsSpan = document.getElementById("totalActions");
  const inProgressCountSpan = document.getElementById("inProgressCount");
  const completedCountSpan = document.getElementById("completedCount");
  const riskCountSpan = document.getElementById("riskCount");

  document.getElementById("lastUpdate").textContent =
    new Date().toLocaleDateString("fr-FR");

  /* Populate Axis Filter */
  function populateAxisFilter() {
    const axes = [...new Set(actionsData.map(a => a.axe))].sort();
    const axisFilter = document.getElementById("axisFilter");
    axes.forEach(axe => {
      const opt = document.createElement("option");
      opt.value = axe;
      opt.textContent = axe;
      axisFilter.appendChild(opt);
    });
  }

  /* Status class */
  function getStatusClass(status) {
    return {
      "Non démarré": "status-not-started",
      "En cours": "status-in-progress",
      "Achevé": "status-completed",
      "À risque": "status-risk"
    }[status] || "";
  }

  /* Priority class */
  function getPriorityClass(priority) {
    return {
      "Haute": "priority-high",
      "Moyenne": "priority-medium",
      "Basse": "priority-low"
    }[priority] || "";
  }

  /* Filtering */
  function getFilteredActions() {
    const query = document.getElementById("searchInput").value.trim().toLowerCase();
    const axis = document.getElementById("axisFilter").value;
    const status = document.getElementById("statusFilter").value;
    const year = document.getElementById("yearFilter").value;

    return actionsData.filter(a => {
      const text = (a.axe + a.resultat + a.activite + a.responsable + a.partenaires).toLowerCase();
      if (query && !text.includes(query)) return false;
      if (axis && a.axe !== axis) return false;
      if (status && a.statut !== status) return false;
      if (year && String(a.annee) !== year) return false;
      return true;
    });
  }

  /* Summary numbers */
  function updateSummary() {
    totalActionsSpan.textContent = actionsData.length;
    inProgressCountSpan.textContent = actionsData.filter(a => a.statut === "En cours").length;
    completedCountSpan.textContent = actionsData.filter(a => a.statut === "Achevé").length;
    riskCountSpan.textContent = actionsData.filter(a => a.statut === "À risque").length;
  }

  /* Render table */
  function renderTable() {
    const filtered = getFilteredActions();
    tbody.innerHTML = "";

    if (filtered.length === 0) {
      noResultsDiv.style.display = "block";
      return;
    }
    noResultsDiv.style.display = "none";

    filtered.forEach(a => {
      const tr = document.createElement("tr");

      tr.innerHTML = `
        <td class="col-axe"><span class="axe-pill">${a.axe}</span></td>
        <td class="col-resultat">${a.resultat}</td>
        <td class="col-activite">
          ${a.activite}
          <div class="progress-bar"><div class="progress-inner" style="width:${a.progression}%"></div></div>
          <div class="small-text">${a.progression}% mis en œuvre</div>
        </td>
        <td class="col-echeance">
          ${a.echeance}
          <div class="small-text">${a.annee}</div>
        </td>
        <td class="col-responsable">
          <strong>${a.responsable}</strong><br>
          <span class="small-text">${a.partenaires}</span>
        </td>
        <td class="col-statut">
          <span class="status-badge ${getStatusClass(a.statut)}">${a.statut}</span>
        </td>
        <td class="col-priorite">
          <span class="priority-badge ${getPriorityClass(a.priorite)}">${a.priorite}</span>
        </td>
      `;

      tbody.appendChild(tr);
    });
  }

  /* Init */
  function init() {
    populateAxisFilter();
    updateSummary();
    renderTable();

    document.getElementById("searchInput").addEventListener("input", renderTable);
    document.getElementById("axisFilter").addEventListener("change", renderTable);
    document.getElementById("statusFilter").addEventListener("change", renderTable);
    document.getElementById("yearFilter").addEventListener("change", renderTable);
  }

  document.addEventListener("DOMContentLoaded", init);
</script>

</body>
</html>
